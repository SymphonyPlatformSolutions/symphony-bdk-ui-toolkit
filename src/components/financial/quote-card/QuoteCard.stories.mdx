import Text from '../../misc/text';
import Box from '../../layout/box';
import Button from '../../misc/button';
import QuoteProductTag from '../quote-product-tag';
import QuotePanel from '../quote-panel';
import QuoteCard from './index.js';
import { QuoteShortCodeLabel, QuoteShortCodeName } from './theme';
import { Story, Meta, Preview, Props } from '@storybook/addon-docs/blocks';

<Meta title="components/Financial/Quote Card" component={QuoteCard} />

# Quote Card
<hr />

A card for displaying quotes. It is divided into 3 modular portions to be filled in:

- Tag
- Content
- Menu

<Preview>
  <Story name="Base">
    <QuoteCard
      colorIndex={1}
    >
      <QuoteCard.QuoteCardTag>
        <Box align="center" type="flat">
          <QuoteShortCodeLabel>TAG</QuoteShortCodeLabel>
          <QuoteShortCodeName>TAG</QuoteShortCodeName>
        </Box>
      </QuoteCard.QuoteCardTag>
      <QuoteCard.QuoteCardContent>
        <Text isTitle size="small">Content</Text>
      </QuoteCard.QuoteCardContent>
      <QuoteCard.QuoteCardContent>
        <Text isTitle size="small">More Content</Text>
        <Text>Content content content</Text>
      </QuoteCard.QuoteCardContent>
      <QuoteCard.QuoteCardContent>
        <Text isTitle size="small">Even More Content</Text>
        <Button>Button</Button>
      </QuoteCard.QuoteCardContent>
      <QuoteCard.QuoteCardMenu>
        <Box align="center">
          <Text>Menu</Text>
          <Button fill="ghost">Edit</Button>
        </Box>
      </QuoteCard.QuoteCardMenu>
    </QuoteCard>
  </Story>
</Preview>

### Use

The card is separated into 3 portions, all of which are populated by using the provided Components as children.

- ```QuoteCardTag``` will fill in the colorful tag to the left of the component. There should be a single Child with this Component. The ```QuoteShortCodeLabel``` and ```QuoteShortCodeName``` are also being shipped for convenience.
- ```QuoteCardContent``` will populate the middle portion of the card. Every Child with this component will appear as a new line inside the content.
- ```QuoteCardMenu``` will populate the right-most side of the card. It represents the action part of the component.
- ```QuoteCardHeader``` **To be used with Small type Cards** will populate the header of the card.

In case the user would want to use the provided dropdown menu, simply pass the ```useDefaultContextMenu``` prop, alongside the ```onEdit``` and ```onCancel``` handlers.

### Examples

<Preview>
  <Story name="with product data">
    <QuoteCard
      colorIndex={3}
    >
      <QuoteCard.QuoteCardTag>
        <Box align="center" type="flat">
          <QuoteShortCodeLabel>RFQ</QuoteShortCodeLabel>
          <QuoteShortCodeName>2B</QuoteShortCodeName>
        </Box>
      </QuoteCard.QuoteCardTag>
      <QuoteCard.QuoteCardContent>
        <Box horizontal type="secondary">
          <QuoteProductTag
            mainInfo="IRS"
          />
          <QuoteProductTag
            mainInfo="USD"
            sideInfo="3M-LIBOR"
          />
          <QuoteProductTag
            mainInfo="EUREX"
          />
        </Box>
      </QuoteCard.QuoteCardContent>
    </QuoteCard>
  </Story>
</Preview>

<Preview>
  <Story name="with small product tag">
    <QuoteCard
      type="small"
      colorIndex={3}
    >
      <QuoteCard.QuoteCardTag>
        <Box align="center" type="flat">
          <QuoteShortCodeLabel>RFQ</QuoteShortCodeLabel>
          <QuoteShortCodeName>2B</QuoteShortCodeName>
        </Box>
      </QuoteCard.QuoteCardTag>
      <QuoteCard.QuoteCardHeader>
        <Box horizontal type="secondary" justify="center" style={{marginTop: '2px'}}>
            <QuoteProductTag
              mainInfo="IRS"
            />
            <QuoteProductTag
              mainInfo="USD"
              sideInfo="3M-LIBOR"
            />
            <QuoteProductTag
              mainInfo="EUREX"
            />
          </Box>
      </QuoteCard.QuoteCardHeader>
      <QuoteCard.QuoteCardContent>
        <Box vertical>
         <QuotePanel dealerName="Dealer two" dealerPayedValue={1.75} clientName="Client one" clientPayedValue={3} />
        </Box>
      </QuoteCard.QuoteCardContent>
    </QuoteCard>
  </Story>
</Preview>

### Default Context Menu

<Preview>
  <Story name="with context">
    <QuoteCard
      colorIndex={5}
      useDefaultContextMenu
    >
      <QuoteCard.QuoteCardTag>
        <Box align="center" type="flat">
          <QuoteShortCodeLabel>RFQ</QuoteShortCodeLabel>
          <QuoteShortCodeName>9S</QuoteShortCodeName>
        </Box>
      </QuoteCard.QuoteCardTag>
      <QuoteCard.QuoteCardContent>
        <Box horizontal type="secondary">
          <QuoteProductTag
            mainInfo="IRS"
          />
          <QuoteProductTag
            mainInfo="USD"
            sideInfo="3M-LIBOR"
          />
          <QuoteProductTag
            mainInfo="EUREX"
          />
        </Box>
      </QuoteCard.QuoteCardContent>
    </QuoteCard>
  </Story>
</Preview>

<Props of={QuoteCard} />
